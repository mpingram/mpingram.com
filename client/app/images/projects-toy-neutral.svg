<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 12.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 51448)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [
	<!ENTITY ns_svg "http://www.w3.org/2000/svg">
	<!ENTITY ns_xlink "http://www.w3.org/1999/xlink">
]>
<svg  version="1.1" id="Layer_1" xmlns="&ns_svg;" xmlns:xlink="&ns_xlink;" width="650" height="650" viewBox="-0.5 -0.5 650 650"
	 overflow="visible" enable-background="new -0.5 -0.5 650 650" xml:space="preserve">
<path fill="none" stroke="#636466" stroke-width="3" d="M648.5,636.5c0,6.627-5.373,12-12,12h-624c-6.627,0-12-5.373-12-12v-624
	c0-6.627,5.373-12,12-12h624c6.627,0,12,5.373,12,12V636.5z"/>
<rect x="9.5" y="9.5" fill="none" width="495" height="630"/>
<text transform="matrix(1 0 0 1 9.5 19.5654)" font-family="'SourceSansPro-Light'" font-size="14">// factory function</text>
<text transform="matrix(1 0 0 1 9.5 36.3662)" font-family="'SourceSansPro-Light'" font-size="14">// ============================</text>
<text transform="matrix(1 0 0 1 9.5 53.166)" font-family="'SourceSansPro-Light'" font-size="14">var AcrobatMailMerge =  function(mockApi){</text>
<text transform="matrix(1 0 0 1 9.5 86.7656)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 86.7656)" font-family="'SourceSansPro-Light'" font-size="14">// DEVELOPMENT</text>
<text transform="matrix(1 0 0 1 9.5 103.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 103.5654)" font-family="'SourceSansPro-Light'" font-size="14">// ---------------------------------</text>
<text transform="matrix(1 0 0 1 9.5 120.3662)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 120.3662)" font-family="'SourceSansPro-Light'" font-size="14">// injects mock API if it&apos;s passed as an argument</text>
<text transform="matrix(1 0 0 1 9.5 137.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 137.166)" font-family="'SourceSansPro-Light'" font-size="14">// to the factory</text>
<text transform="matrix(1 0 0 1 9.5 153.9658)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 153.9658)" font-family="'SourceSansPro-Light'" font-size="14">if (mockApi) {</text>
<text transform="matrix(1 0 0 1 9.5 170.7656)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">  </text>
<text transform="matrix(1 0 0 1 81.5 170.7656)" font-family="'SourceSansPro-Light'" font-size="14">// verify api is ok</text>
<text transform="matrix(1 0 0 1 9.5 187.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">  </text>
<text transform="matrix(1 0 0 1 81.5 187.5654)" font-family="'SourceSansPro-Light'" font-size="14">if (</text>
<text transform="matrix(1 0 0 1 95.0791 187.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="18"> </text>
<text transform="matrix(1 0 0 1 117.5 187.5654)" font-family="'SourceSansPro-Light'" font-size="14">typeof mockApi </text>
<text transform="matrix(1 0 0 1 208.917 187.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="12"> </text>
<text transform="matrix(1 0 0 1 225.499 187.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 261.499 187.5654)" font-family="'SourceSansPro-Light'" font-size="14">!== &apos;object&apos; ||</text>
<text transform="matrix(1 0 0 1 9.5 204.3662)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">     </text>
<text transform="matrix(1 0 0 1 189.5 204.3662)" font-family="'SourceSansPro-Light'" font-size="14">mockApi.app </text>
<text transform="matrix(1 0 0 1 267.394 204.3662)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="26"> </text>
<text transform="matrix(1 0 0 1 297.499 204.3662)" font-family="'SourceSansPro-Light'" font-size="14">=== undefined ||</text>
<text transform="matrix(1 0 0 1 9.5 221.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">     </text>
<text transform="matrix(1 0 0 1 189.5 221.166)" font-family="'SourceSansPro-Light'" font-size="14">mockApi.doc </text>
<text transform="matrix(1 0 0 1 266.5669 221.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="28"> </text>
<text transform="matrix(1 0 0 1 297.499 221.166)" font-family="'SourceSansPro-Light'" font-size="14">=== undefined ||</text>
<text transform="matrix(1 0 0 1 9.5 237.9658)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">     </text>
<text transform="matrix(1 0 0 1 189.5 237.9658)" font-family="'SourceSansPro-Light'" font-size="14">mockApi.util </text>
<text transform="matrix(1 0 0 1 263.4741 237.9658)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="30"> </text>
<text transform="matrix(1 0 0 1 297.5 237.9658)" font-family="'SourceSansPro-Light'" font-size="14">=== undefined){</text>
<text transform="matrix(1 0 0 1 9.5 254.7656)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">   </text>
<text transform="matrix(1 0 0 1 117.5 254.7656)" font-family="'SourceSansPro-Light'" font-size="14">throw new Error(&apos;Incomplete mock API&apos;);</text>
<text transform="matrix(1 0 0 1 9.5 288.3662)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">  </text>
<text transform="matrix(1 0 0 1 81.5 288.3662)" font-family="'SourceSansPro-Light'" font-size="14">} else {</text>
<text transform="matrix(1 0 0 1 9.5 305.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">   </text>
<text transform="matrix(1 0 0 1 117.5 305.166)" font-family="'SourceSansPro-Light'" font-size="14">// establish mock API</text>
<text transform="matrix(1 0 0 1 9.5 321.9658)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">   </text>
<text transform="matrix(1 0 0 1 117.5 321.9658)" font-family="'SourceSansPro-Light'" font-size="14">var app = mockApi.app;</text>
<text transform="matrix(1 0 0 1 9.5 338.7656)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">   </text>
<text transform="matrix(1 0 0 1 117.5 338.7656)" font-family="'SourceSansPro-Light'" font-size="14">var doc = mockApi.doc;</text>
<text transform="matrix(1 0 0 1 9.5 355.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">   </text>
<text transform="matrix(1 0 0 1 117.5 355.5654)" font-family="'SourceSansPro-Light'" font-size="14">var util = mockApi.util;</text>
<text transform="matrix(1 0 0 1 9.5 372.3662)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32">  </text>
<text transform="matrix(1 0 0 1 81.5 372.3662)" font-family="'SourceSansPro-Light'" font-size="14">}</text>
<text transform="matrix(1 0 0 1 9.5 389.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 389.166)" font-family="'SourceSansPro-Light'" font-size="14">}</text>
<text transform="matrix(1 0 0 1 9.5 405.9658)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 405.9658)" font-family="'SourceSansPro-Light'" font-size="14">// otherwise, assume we&apos;re running in AcroJS environment</text>
<text transform="matrix(1 0 0 1 9.5 422.7656)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 422.7656)" font-family="'SourceSansPro-Light'" font-size="14">// and we don&apos;t need to inject anything.</text>
<text transform="matrix(1 0 0 1 9.5 439.5654)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 439.5654)" font-family="'SourceSansPro-Light'" font-size="14">// ----------------------------------</text>
<text transform="matrix(1 0 0 1 9.5 473.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 473.166)" font-family="'SourceSansPro-Light'" font-size="14">var self = {};</text>
<text transform="matrix(1 0 0 1 9.5 506.7656)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 506.7656)" font-family="'SourceSansPro-Light'" font-size="14">// private vars</text>
<text transform="matrix(1 0 0 1 9.5 523.5664)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 523.5664)" font-family="'SourceSansPro-Light'" font-size="14">// ----------------------</text>
<text transform="matrix(1 0 0 1 9.5 540.3652)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 540.3652)" font-family="'SourceSansPro-Light'" font-size="14">var targetFieldsRegexNoFlags = /&lt;&lt;(.+?)&gt;&gt;/;</text>
<text transform="matrix(1 0 0 1 9.5 557.166)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 557.166)" font-family="'SourceSansPro-Light'" font-size="14">var targetFieldsRegex = new RegExp(targetFieldsRegexNoFlags,&apos;g&apos;);</text>
<text transform="matrix(1 0 0 1 9.5 573.9658)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 573.9658)" font-family="'SourceSansPro-Light'" font-size="14">var conditionalBlocksRegex = /\[[^\[]*?&lt;&gt;[^\]]*?\]|&lt;|&gt;|\[|\]/g;</text>
<text transform="matrix(1 0 0 1 9.5 607.5664)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 607.5664)" font-family="'SourceSansPro-Light'" font-size="14">// flag marks whether multiple fields each map to one record (false)</text>
<text transform="matrix(1 0 0 1 9.5 624.3652)" font-family="'SourceSansPro-Light'" font-size="14" letter-spacing="32"> </text>
<text transform="matrix(1 0 0 1 45.5 624.3652)" font-family="'SourceSansPro-Light'" font-size="14">// or multiple fields map to multiple records (true)</text>
</svg>
